{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/modal-film.js","node_modules/@parcel/runtime-js/lib/runtime-1d90b80c2056e8c2.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","src/js/library-modal.js","src/js/library-service.js","src/js/library-api.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_class_private_field_set.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_set.js","node_modules/@swc/helpers/lib/_class_private_method_get.js","node_modules/@swc/helpers/lib/_class_private_method_init.js","node_modules/@parcel/runtime-js/lib/runtime-a0adeef9ffca6e02.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\nimport sprite from '../images/sprite.svg';\nexport default\nfunction createModalMarkup({ id, posterURL = '', title = '', genres = '', year = '',\n                            vote = '', votes = '', popularity = '', original = '', overview = '' }) {\n  return `\n  \n    <div class=\"modal__poster\">\n    <button type=\"button\" class=\"modal__button-cls\">\n      <svg height=\"30\" width=\"30\" class=\"modal__icon\">\n        <use href=\"${sprite}#icon-close\"></use>\n      </svg>\n    </button>\n      <img class=\"modal__image\" src=\"${posterURL}\" alt=\"${title}\"/>\n    </div>\n    <div class=\"modal__information\" data-filmid=\"${id}\">\n      <h1 class=\"modal__title\">${title}</h1>\n      <table class=\"modal__table\">\n        <tr class=\"modal__tr\">\n          <td class=\"modal__td\">Vote / Votes</td>\n          <td class=\"modal__td-right\">\n            <span class=\"modal__vote\">${vote}</span>\n            / <span class=\"modal__votes\">${votes}</span>\n          </td>\n        </tr>\n        <tr class=\"modal__tr\">\n          <td class=\"modal__td\">Popularity</td>\n          <td class=\"modal__td-right modal__popularity\">${popularity}</td>\n        </tr>\n        <tr class=\"modal__tr\">\n          <td class=\"modal__td\">Original Title</td>\n          <td class=\"modal__td-right modal__original\">${original}</td>\n        </tr>\n        <tr class=\"modal__tr\">\n          <td class=\"modal__td\">Genre</td>\n          <td class=\"modal__td-right modal__genres\">${genres}</td>\n        </tr>\n        <tr class=\"modal__tr\">\n          <td class=\"modal__td\">Year</td>\n          <td class=\"modal__td-right modal__year\">${year}</td>\n        </tr>\n      </table>\n      <h2 class=\"modal__description\">About</h2>\n      <p class=\"modal__text\">${overview}</p>\n      <div class=\"modal__flex\">\n        <button class=\"modal__button modal__button--watched js-active\" type=\"button\">add to Watched</button>\n        <button class=\"modal__button modal__button--queue js-active\" type=\"button\">add to queue</button>\n      </div>\n    </div> \n  `;\n}    \n\n\n\n/*\nconst modalButtonClose = document.querySelector(\".modal__button-cls\");\nconst overlay = document.querySelector(\".overlay\")\n    console.log(overlay)\n\n const modalButtonOpen = document.querySelector(\".js-modal-container\")\n         console.log(modalButtonOpen)\n\nmodalButtonClose.addEventListener(\"click\", onModalClose);\nmodalButtonOpen.addEventListener(\"click\", onModalOpen);\ndocument.addEventListener(\"keydown\", onEcsclick);\noverlay.addEventListener(\"click\", onBackdropClick);\nfunction onModalClose() {\n    overlay.classList.add(\"visually-hidden\")\n\n}\n\nexport default function onModalOpen() {\n    \n  overlay.classList.remove('visually-hidden')\n\n}\n*/\n/*\nfunction onEcsclick(e) {\n    if (e.key === \"Escape\") {\n        onModalClose();\n    } else {\n        document.removeEventListener(\"keydown\", this);\n    }\n} \n\nfunction onBackdropClick(e) {\n    if (e.currentTarget === e.target) {\n        onModalClose();\n    } else {\n        overlay.removeEventListener(\"click\", this);\n    }\n}\n*/\n\n\n","module.exports = require('./helpers/bundle-url').getBundleURL('5yY5W') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","import myLibs from './library-service';\n\nlet refsM;\n\nexport function initModal() {\n  refsM = {\n    btnWatched: document.querySelector('.modal__button--watched'),\n    btnQueue: document.querySelector('.modal__button--queue'),\n    infoId: document.querySelector('.modal__information'),\n    title: document.querySelector('.modal__title'),\n    poster: document.querySelector('.modal__image'),\n    genres: document.querySelector('.modal__genres'),\n    year: document.querySelector('.modal__year'),\n    vote: document.querySelector('.modal__vote'),\n    votes: document.querySelector('.modal__votes'),\n    popularity: document.querySelector('.modal__popularity'),\n    original: document.querySelector('.modal__original'),\n    overview: document.querySelector('.modal__text'),\n  };\n\n  if (Object.values(refsM).some(el => !el)) {\n    console.error('Error: invalid markup of modal window!');\n  }\n\n  refsM.btnWatched.addEventListener('click', onModalLibraryClick.bind(null, \"watched\"));\n  refsM.btnQueue.addEventListener('click', onModalLibraryClick.bind(null, \"queue\"));\n\n  refreshBtns();\n\n  return refsM;\n}\n\nfunction getModalFilmId() {\n  return refsM.infoId.dataset.filmid;\n}\n\nfunction onModalLibraryClick(libName) {\n  const movieId = getModalFilmId(); \n\n  if (!movieId) {\n    return;\n  }\n\n  if (myLibs[libName].getMovieById(movieId)) {\n    myLibs[libName].removeMovie(movieId);\n  } else {\n    const movie = getMovieModal();\n    myLibs[libName].addMovie(movie);\n  }\n  refreshBtns();\n}\n\nfunction refreshBtns() {\n  const movieId = getModalFilmId();\n\n  if (!movieId) {\n    return;\n  }\n\n  if (myLibs.watched.getMovieById(movieId)) {\n    refsM.btnWatched.textContent = 'REMOVE FROM WATCHED';\n    refsM.btnWatched.classList.remove(\"js-active\");\n  } else {\n    refsM.btnWatched.textContent = 'ADD TO WATCHED';\n    refsM.btnWatched.classList.add(\"js-active\");\n  }\n\n  if (myLibs.queue.getMovieById(movieId)) {\n    refsM.btnQueue.textContent = 'REMOVE FROM QUEUE';\n    refsM.btnQueue.classList.remove(\"js-active\");\n  } else {\n    refsM.btnQueue.textContent = 'ADD TO QUEUE';\n    refsM.btnQueue.classList.add(\"js-active\");\n  }\n}\n\nfunction getMovieModal() {\n  return {\n    id: getModalFilmId(),\n    title: refsM.title.textContent,\n    posterURL: refsM.poster.src,\n    overview: refsM.overview.textContent,\n    genres: refsM.genres.textContent,\n    year: refsM.year.textContent,\n    vote: refsM.vote.textContent,\n    votes: refsM.votes.textContent,\n    popularity: refsM.popularity.textContent,\n    original: refsM.original.textContent,\n  };\n}\n","import MoviesLibrary from './library-api';\n\nconst myLibs = {\n  watched: new MoviesLibrary('Watched'), \n  queue:   new MoviesLibrary('Queue')\n}\n\nexport default myLibs;\n","\nconst LOCALSTORAGE_KEY_PREFIX = 'MoviesLibrary_'; \n\nexport default class MoviesLibrary {\n\n  #LOCALSTORAGE_KEY;\n  #movies = [];\n\n  constructor(libName = 'mylib') {\n    this.#LOCALSTORAGE_KEY = LOCALSTORAGE_KEY_PREFIX + libName;\n    this.#loadMovies();\n  }\n\n  // -------  PRIVATE SECTION  -------\n  \n  #saveMovies() {\n    try {\n      localStorage.setItem(this.#LOCALSTORAGE_KEY, JSON.stringify(this.#movies));\n    } catch (err) {\n      console.error(`Error: failure saving movies in LocalStorage: ${this.#LOCALSTORAGE_KEY}`);\n    }\n  }\n\n  #loadMovies() {\n    this.#movies = [];\n    const jsonMovies = localStorage.getItem(this.#LOCALSTORAGE_KEY);\n    if (jsonMovies) {\n      try {\n        this.#movies = JSON.parse(jsonMovies);\n      } catch (err) {\n        console.error(`Error: invalid movies library in LocalStorage: ${this.#LOCALSTORAGE_KEY}`);\n      }\n    }\n  }\n\n  // -------  INTERFACE  -------\n  \n  getCount() {\n    return this.#movies.length;\n  }\n\n  getMovies() {\n    return this.#movies;\n  }\n\n  getMovieById(movieId) {\n    return this.#movies.find(el => el.id === movieId);\n  }\n\n  getCountPages(per_page) {\n    return Math.ceil(this.#movies.length / per_page);\n  }\n\n  getMoviesPage(page = 1, per_page = -1) {     // per_page === -1 - get all library, without pagination\n    if (per_page === -1) {\n      return this.#movies;\n    } else {\n      return this.#movies.slice((page - 1) * per_page, page * per_page);\n    }\n  }\n\n  refreshMovies() {\n    this.#loadMovies();\n  }\n\n  clearMovies() {\n    this.#movies = [];\n    this.#saveMovies();\n  }\n\n  addMovie(movie) {\n    const indexId = this.#movies.findIndex(el => el.id === movie.id);\n    if (indexId !== -1) {\n      this.#movies[indexId] = movie;\n    } else {\n      this.#movies.push(movie);\n    }\n    this.#saveMovies();\n  }\n\n  removeMovie(movieId) {\n    const indexId = this.#movies.findIndex(el => el.id === movieId);\n    if (indexId !== -1) {\n      this.#movies.splice(indexId, 1);\n      this.#saveMovies();\n    }\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldSet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorSet = _interopRequireDefault(require(\"./_class_apply_descriptor_set\"));\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"set\");\n    (0, _classApplyDescriptorSet).default(receiver, descriptor, value);\n    return value;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorSet;\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodGet;\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateMethodInit(obj, privateSet) {\n    (0, _checkPrivateRedeclaration).default(obj, privateSet);\n    privateSet.add(obj);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5yY5W\\\":\\\"index.1725993b.js\\\",\\\"ee16w\\\":\\\"sprite.a90c2bfd.svg\\\"}\"));"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$k8rmz","parcelRequire","$523884499027de00$export$2e2bcd8739ae039","posterURL","title","genres","year","vote","votes","popularity","original","overview","$parcel$interopDefault","module","exports","getBundleURL","resolve","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","$54T7b","$f3e59abbf028fd14$var$refsM","$f3e59abbf028fd14$export$60523367a7e10402","btnWatched","document","querySelector","btnQueue","infoId","poster","values","some","el","console","error","addEventListener","$f3e59abbf028fd14$var$onModalLibraryClick","bind","$f3e59abbf028fd14$var$refreshBtns","$f3e59abbf028fd14$var$getModalFilmId","dataset","filmid","libName","movieId","default","getMovieById","removeMovie","movie","textContent","src","addMovie","watched","classList","remove","add","queue","$bSEwQ","$3b281428ac20a3a5$export$2e2bcd8739ae039","$4KMWL","$8a642d0319cc4e27$var$_LOCALSTORAGE_KEY","WeakMap","$8a642d0319cc4e27$var$_movies","$8a642d0319cc4e27$var$_saveMovies","WeakSet","$8a642d0319cc4e27$var$_loadMovies","$8a642d0319cc4e27$export$2e2bcd8739ae039","getCount","this","getMovies","find","getCountPages","per_page","Math","ceil","getMoviesPage","page","slice","refreshMovies","$beht7","$8a642d0319cc4e27$var$loadMovies","call","clearMovies","$8a642d0319cc4e27$var$saveMovies","indexId","findIndex","push","splice","constructor","$fyAfh","$8MQK7","localStorage","setItem","JSON","stringify","jsonMovies","getItem","parse","defineProperty","receiver","privateMap","descriptor","$37616d1d2d9e1de3$var$_classExtractFieldDescriptor","$37616d1d2d9e1de3$var$_classApplyDescriptorGet","$37616d1d2d9e1de3$var$_interopRequireDefault","obj","__esModule","action","has","TypeError","get","$665bb80dc57e205a$var$_checkPrivateRedeclaration","set","privateCollection","$a11a0d8e92c06afc$var$_classExtractFieldDescriptor","$a11a0d8e92c06afc$var$_classApplyDescriptorSet","$a11a0d8e92c06afc$var$_interopRequireDefault","writable","privateSet","fn","$b5362597a15e80da$var$_checkPrivateRedeclaration","register"],"version":3,"file":"index.1725993b.js.map"}