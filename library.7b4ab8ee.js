!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=r);var a=r("54T7b");function i({id:e,posterURL:t="",title:n="",genres:r="no info",year:a="no info",votes:i=""}){return` \n    <div class="card" data-filmid="${e}">\n        <img src="${t}" class="card__pic">\n        <div class="card__information">\n            <p class="card__film-name">${n}</p>\n            <div class="card__additional-information">\n                <ul class="card__gener-list">\n                    <li class="card__gener-item">${r}</li>\n                </ul>\n                <div class="card__vl"></div>\n                <p class="card__release-year">${a}</p>\n            </div>\n        </div>\n    </div>\n  `}let d=a.default.watched,s=1;const c={gallery:document.querySelector(".gallery")};if(Object.values(c).some((e=>!e)))throw new Error("Invalid markup!");function o(e){const t=e.currentTarget;t==c.btnWatched&&d==a.default.watched||t==c.btnQueue&&d==a.default.queue||(s=1,t==c.btnWatched?(d=a.default.watched,c.btnWatched.classList.add("is-active"),c.btnQueue.classList.remove("is-active")):t==c.btnQueue&&(d=a.default.queue,c.btnWatched.classList.remove("is-active"),c.btnQueue.classList.add("is-active")),d.refreshMovies(),u())}c.gallery.insertAdjacentHTML("afterend",'<div class="js-guard"></div>'),c.guardDiv=document.querySelector(".js-guard"),c.gallery.insertAdjacentHTML("beforebegin",'<button type="button" id="btn-watched" class="btn-library is-active">Watched</button>'),c.gallery.insertAdjacentHTML("beforebegin",'<button type="button" id="btn-queue" class="btn-library">Queue</button>'),c.btnWatched=document.querySelector("#btn-watched"),c.btnQueue=document.querySelector("#btn-queue"),c.btnWatched.addEventListener("click",o),c.btnQueue.addEventListener("click",o);const l=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&s<d.getCountPages(6)&&(s+=1,u())}))}),{root:null,rootMargin:"300px",threshold:1});function u(){1==s&&d.getCount()>0&&(c.gallery.innerHTML="");const e=d.getMoviesPage(s,6);c.gallery.insertAdjacentHTML("beforeend",function(e){return e.map((e=>i(e))).join("")}(e)),1==s&&d.getCountPages(6)>1?l.observe(c.guardDiv):s==d.getCountPages(6)&&l.unobserve(c.guardDiv)}u()}();
//# sourceMappingURL=library.7b4ab8ee.js.map
